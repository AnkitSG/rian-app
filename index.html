<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>Rian's Learning World</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    * { -webkit-tap-highlight-color: transparent; user-select: none; }
    @keyframes float { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
    @keyframes pop { 0% { transform: scale(1); } 50% { transform: scale(1.3); } 100% { transform: scale(1); } }
    @keyframes wiggle { 0%, 100% { transform: rotate(-3deg); } 50% { transform: rotate(3deg); } }
    @keyframes confetti { 0% { transform: translateY(0) rotate(0); opacity: 1; } 100% { transform: translateY(-100px) rotate(360deg); opacity: 0; } }
    .float { animation: float 2s ease-in-out infinite; }
    .pop { animation: pop 0.3s ease-out; }
    .wiggle { animation: wiggle 0.5s ease-in-out; }
    .btn-bounce:active { transform: scale(0.95); }
    .number-btn:active { transform: scale(1.2); background: #fbbf24; }
  </style>
</head>
<body class="min-h-screen overflow-x-hidden">
  <div id="app"></div>

  <script>
    let page = 'home';
    let mathGame = 'menu';
    let addProblem = null;
    let subProblem = null;
    let score = 0;
    let streak = 0;

    function speak(text, rate = 0.85) {
      if ('speechSynthesis' in window) {
        window.speechSynthesis.cancel();
        const u = new SpeechSynthesisUtterance(String(text));
        u.rate = rate; u.pitch = 1.1; u.lang = 'en-US';
        window.speechSynthesis.speak(u);
      }
    }

    function speakNumber(n) {
      speak(n, 0.9);
      const btn = document.getElementById('num-' + n);
      if (btn) { btn.classList.add('pop'); setTimeout(() => btn.classList.remove('pop'), 300); }
    }

    function celebrate() {
      speak(['Great job!', 'Awesome!', 'You did it!', 'Super!'][Math.floor(Math.random() * 4)], 1);
      score++; streak++;
      showConfetti();
    }

    function wrong() {
      speak('Try again!', 1);
      streak = 0;
    }

    function showConfetti() {
      const c = document.getElementById('confetti');
      if (c) { c.innerHTML = ['ğŸŒŸ','â­','ğŸ‰','âœ¨','ğŸŠ'].map((e, i) => 
        `<span style="position:absolute;left:${20 + i * 15}%;animation:confetti 1s ease-out forwards;font-size:2rem">${e}</span>`
      ).join(''); setTimeout(() => c.innerHTML = '', 1000); }
    }

    function genAdd() {
      const a = Math.floor(Math.random() * 10) + 1;
      const b = Math.floor(Math.random() * 10) + 1;
      addProblem = { a, b, answer: a + b };
      const opts = [addProblem.answer];
      while (opts.length < 3) {
        const wrong = addProblem.answer + (Math.random() > 0.5 ? 1 : -1) * (Math.floor(Math.random() * 3) + 1);
        if (wrong > 0 && !opts.includes(wrong)) opts.push(wrong);
      }
      addProblem.options = opts.sort(() => Math.random() - 0.5);
    }

    function genSub() {
      const a = Math.floor(Math.random() * 10) + 5;
      const b = Math.floor(Math.random() * Math.min(a, 5)) + 1;
      subProblem = { a, b, answer: a - b };
      const opts = [subProblem.answer];
      while (opts.length < 3) {
        const wrong = subProblem.answer + (Math.random() > 0.5 ? 1 : -1) * (Math.floor(Math.random() * 3) + 1);
        if (wrong >= 0 && !opts.includes(wrong)) opts.push(wrong);
      }
      subProblem.options = opts.sort(() => Math.random() - 0.5);
    }

    function checkAdd(ans) {
      if (ans === addProblem.answer) { celebrate(); setTimeout(() => { genAdd(); render(); }, 1500); }
      else wrong();
    }

    function checkSub(ans) {
      if (ans === subProblem.answer) { celebrate(); setTimeout(() => { genSub(); render(); }, 1500); }
      else wrong();
    }

    function goHome() { page = 'home'; mathGame = 'menu'; render(); }
    function goMath() { page = 'math'; mathGame = 'menu'; render(); }
    function goEnglish() { page = 'english'; render(); }
    function startCounting() { mathGame = 'counting'; render(); }
    function startAddition() { genAdd(); mathGame = 'addition'; render(); }
    function startSubtraction() { genSub(); mathGame = 'subtraction'; render(); }

    function render() {
      const app = document.getElementById('app');
      let html = '';
      
      if (page === 'home') {
        html = `
          <div class="min-h-screen bg-gradient-to-b from-blue-400 via-purple-400 to-pink-400 flex flex-col items-center justify-center p-4 relative">
            <div class="absolute top-6 left-6 text-3xl float">ğŸš€</div>
            <div class="absolute top-10 right-6 text-3xl float" style="animation-delay:0.5s">ğŸŒˆ</div>
            <div class="absolute bottom-20 left-6 text-3xl float">ğŸˆ</div>
            <div class="absolute bottom-10 right-6 text-3xl float" style="animation-delay:0.3s">ğŸ¦‹</div>
            
            <div class="bg-white rounded-3xl shadow-2xl p-6 max-w-sm w-full text-center">
              <div class="flex justify-center gap-2 mb-3 text-xl">
                <span class="animate-pulse">âœ¨</span><span class="animate-pulse">â­</span><span class="animate-pulse">ğŸŒŸ</span>
              </div>
              <img src="rian.jpeg" alt="Rian" class="w-24 h-24 rounded-full mx-auto mb-3 border-4 border-purple-400 shadow-lg object-cover">
              <h1 class="text-2xl font-bold text-purple-600 mb-1">Welcome</h1>
              <div class="text-4xl font-bold bg-gradient-to-r from-blue-500 via-purple-500 to-pink-500 bg-clip-text text-transparent mb-4">RIAN! ğŸ‰</div>
              <p class="text-gray-600 mb-6">What do you want to learn today?</p>
              
              <div class="grid grid-cols-2 gap-4">
                <button onclick="goMath()" class="btn-bounce bg-gradient-to-br from-blue-400 to-blue-600 text-white rounded-2xl p-4 shadow-lg">
                  <div class="text-4xl mb-2">ğŸ”¢</div>
                  <div class="font-bold text-lg">Math</div>
                  <div class="text-xs opacity-80">Numbers & Adding</div>
                </button>
                <button onclick="goEnglish()" class="btn-bounce bg-gradient-to-br from-green-400 to-green-600 text-white rounded-2xl p-4 shadow-lg">
                  <div class="text-4xl mb-2">ğŸ“š</div>
                  <div class="font-bold text-lg">English</div>
                  <div class="text-xs opacity-80">Letters & Reading</div>
                </button>
              </div>
            </div>
            <p class="mt-6 text-white text-sm">Made with ğŸ’œ for Rian</p>
          </div>`;
      }
      
      else if (page === 'math') {
        if (mathGame === 'menu') {
          html = `
            <div class="min-h-screen bg-gradient-to-b from-blue-400 to-blue-600 flex flex-col items-center justify-center p-4">
              <button onclick="goHome()" class="absolute top-4 left-4 bg-white/30 text-white rounded-full w-12 h-12 text-2xl btn-bounce">â†</button>
              <div class="bg-white rounded-3xl shadow-2xl p-6 max-w-sm w-full text-center">
                <div class="text-5xl mb-2">ğŸ”¢</div>
                <h1 class="text-2xl font-bold text-blue-600 mb-6">Math Fun!</h1>
                <div class="space-y-4">
                  <button onclick="startCounting()" class="btn-bounce w-full bg-gradient-to-r from-yellow-400 to-orange-400 text-white rounded-2xl p-4 shadow-lg flex items-center gap-4">
                    <span class="text-4xl">ğŸ”¢</span>
                    <div class="text-left"><div class="font-bold text-lg">Count 1-50</div><div class="text-xs opacity-80">Tap numbers to hear them!</div></div>
                  </button>
                  <button onclick="startAddition()" class="btn-bounce w-full bg-gradient-to-r from-green-400 to-teal-400 text-white rounded-2xl p-4 shadow-lg flex items-center gap-4">
                    <span class="text-4xl">â•</span>
                    <div class="text-left"><div class="font-bold text-lg">Addition</div><div class="text-xs opacity-80">Add numbers together!</div></div>
                  </button>
                  <button onclick="startSubtraction()" class="btn-bounce w-full bg-gradient-to-r from-pink-400 to-red-400 text-white rounded-2xl p-4 shadow-lg flex items-center gap-4">
                    <span class="text-4xl">â–</span>
                    <div class="text-left"><div class="font-bold text-lg">Subtraction</div><div class="text-xs opacity-80">Take away numbers!</div></div>
                  </button>
                </div>
              </div>
            </div>`;
        }
        else if (mathGame === 'counting') {
          let nums = '';
          for (let i = 1; i <= 50; i++) {
            const colors = ['bg-red-400','bg-orange-400','bg-yellow-400','bg-green-400','bg-teal-400','bg-blue-400','bg-purple-400','bg-pink-400'];
            const color = colors[i % colors.length];
            nums += `<button id="num-${i}" onclick="speakNumber(${i})" class="number-btn ${color} text-white rounded-xl w-12 h-12 text-lg font-bold shadow-md">${i}</button>`;
          }
          html = `
            <div class="min-h-screen bg-gradient-to-b from-yellow-300 to-orange-400 p-4 pb-20">
              <div class="flex items-center justify-between mb-4">
                <button onclick="mathGame='menu';render()" class="bg-white/30 text-white rounded-full w-10 h-10 text-xl btn-bounce">â†</button>
                <h1 class="text-xl font-bold text-white">Count 1-50 ğŸ”¢</h1>
                <div class="w-10"></div>
              </div>
              <p class="text-center text-white mb-4 text-sm">Tap any number to hear it!</p>
              <div class="bg-white/90 rounded-2xl p-4 shadow-xl">
                <div class="grid grid-cols-5 gap-2">${nums}</div>
              </div>
              <div id="confetti" class="fixed inset-0 pointer-events-none"></div>
            </div>`;
        }
        else if (mathGame === 'addition') {
          const apples = 'ğŸ'.repeat(addProblem.a) + ' + ' + 'ğŸ'.repeat(addProblem.b);
          html = `
            <div class="min-h-screen bg-gradient-to-b from-green-400 to-teal-500 flex flex-col items-center justify-center p-4">
              <button onclick="mathGame='menu';render()" class="absolute top-4 left-4 bg-white/30 text-white rounded-full w-10 h-10 text-xl btn-bounce">â†</button>
              <div class="absolute top-4 right-4 bg-white/30 text-white rounded-full px-4 py-2 text-sm">â­ ${score}</div>
              <div class="bg-white rounded-3xl shadow-2xl p-6 max-w-sm w-full text-center">
                <div class="text-4xl mb-2">â•</div>
                <h2 class="text-xl font-bold text-green-600 mb-4">Addition!</h2>
                <div class="text-3xl mb-4">${apples}</div>
                <div class="bg-gray-100 rounded-2xl p-4 mb-6">
                  <span class="text-4xl font-bold">${addProblem.a} + ${addProblem.b} = ?</span>
                </div>
                <div class="grid grid-cols-3 gap-4">
                  ${addProblem.options.map(o => `<button onclick="checkAdd(${o})" class="btn-bounce bg-gradient-to-br from-green-400 to-green-600 text-white rounded-2xl p-4 text-3xl font-bold shadow-lg">${o}</button>`).join('')}
                </div>
              </div>
              <div id="confetti" class="fixed inset-0 pointer-events-none"></div>
            </div>`;
        }
        else if (mathGame === 'subtraction') {
          const apples = 'ğŸ'.repeat(subProblem.a) + ' - ' + 'ğŸ'.repeat(subProblem.b);
          html = `
            <div class="min-h-screen bg-gradient-to-b from-pink-400 to-red-500 flex flex-col items-center justify-center p-4">
              <button onclick="mathGame='menu';render()" class="absolute top-4 left-4 bg-white/30 text-white rounded-full w-10 h-10 text-xl btn-bounce">â†</button>
              <div class="absolute top-4 right-4 bg-white/30 text-white rounded-full px-4 py-2 text-sm">â­ ${score}</div>
              <div class="bg-white rounded-3xl shadow-2xl p-6 max-w-sm w-full text-center">
                <div class="text-4xl mb-2">â–</div>
                <h2 class="text-xl font-bold text-pink-600 mb-4">Subtraction!</h2>
                <div class="text-2xl mb-4">${apples}</div>
                <div class="bg-gray-100 rounded-2xl p-4 mb-6">
                  <span class="text-4xl font-bold">${subProblem.a} - ${subProblem.b} = ?</span>
                </div>
                <div class="grid grid-cols-3 gap-4">
                  ${subProblem.options.map(o => `<button onclick="checkSub(${o})" class="btn-bounce bg-gradient-to-br from-pink-400 to-pink-600 text-white rounded-2xl p-4 text-3xl font-bold shadow-lg">${o}</button>`).join('')}
                </div>
              </div>
              <div id="confetti" class="fixed inset-0 pointer-events-none"></div>
            </div>`;
        }
      }
      
      else if (page === 'english') {
        html = `
          <div class="min-h-screen bg-gradient-to-b from-green-400 to-green-600 flex flex-col items-center justify-center p-4">
            <button onclick="goHome()" class="absolute top-4 left-4 bg-white/30 text-white rounded-full w-12 h-12 text-2xl btn-bounce">â†</button>
            <div class="bg-white rounded-3xl shadow-2xl p-6 max-w-sm w-full text-center">
              <div class="text-5xl mb-2">ğŸ“š</div>
              <h1 class="text-2xl font-bold text-green-600 mb-4">English Fun!</h1>
              <p class="text-gray-500 mb-6">Coming soon! ğŸš§</p>
              <div class="text-6xl mb-4">ğŸ”¤</div>
              <p class="text-gray-600">Letters, phonics, and reading games are being built!</p>
            </div>
          </div>`;
      }
      
      app.innerHTML = html;
    }

    render();
  </script>
</body>
</html>
